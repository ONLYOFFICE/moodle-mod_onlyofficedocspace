{"version":3,"file":"pagination.min.js","sources":["../src/pagination.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module mod_onlyofficedocspace/pagination\n * @copyright  2025 Ascensio System SIA <integration@onlyoffice.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n **/\n\n/**\n *\n * @param {String} selector\n * @param {Number} totalPages\n * @param {Number} currentPage\n * @param {?CallableFunction} onPageChange\n */\nexport const render = function(selector, totalPages, currentPage = 1, onPageChange = null) {\n  const container = document.querySelector(selector);\n  container.innerHTML = \"\";\n\n  if (totalPages < 2) {\n    return;\n  }\n\n  /**\n   *\n   * @param {String} label\n   * @param {Number} page\n   * @param {Boolean} disabled\n   * @param {Boolean} active\n   * @returns\n   */\n  function createItem(label, page, disabled = false, active = false) {\n    const li = document.createElement(\"li\");\n    li.className = \"page-item\";\n\n    if (disabled) {\n      li.classList.add(\"disabled\");\n    }\n    if (active) {\n      li.classList.add(\"active\");\n    }\n\n    const a = document.createElement(\"a\");\n    a.className = \"page-link\";\n    a.href = \"#\";\n    a.textContent = label;\n\n    a.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      if (!disabled && !active) {\n        render(selector, totalPages, page, onPageChange);\n        if (onPageChange) {\n          onPageChange(page);\n        }\n      }\n    });\n\n    li.appendChild(a);\n    return li;\n  }\n\n  // Prev\n  container.appendChild(createItem(\"«\", currentPage - 1, currentPage === 1));\n\n  // Page numbers\n  for (let i = 1; i <= totalPages; i++) {\n    container.appendChild(createItem(i, i, false, i === currentPage));\n  }\n\n  // Next\n  container.appendChild(createItem(\"»\", currentPage + 1, currentPage === totalPages));\n};\n"],"names":["render","selector","totalPages","currentPage","onPageChange","container","document","querySelector","innerHTML","appendChild","createItem","i","label","page","disabled","active","li","createElement","className","classList","add","a","href","textContent","addEventListener","e","preventDefault"],"mappings":";;;;;;MA4BaA,OAAS,SAASC,SAAUC,gBAAYC,mEAAc,EAAGC,oEAAe,WAC7EC,UAAYC,SAASC,cAAcN,aACzCI,UAAUG,UAAY,KAElBN,WAAa,IA2CjBG,UAAUI,YAAYC,WAAW,IAAKP,YAAc,EAAmB,IAAhBA,kBAGlD,IAAIQ,EAAI,EAAGA,GAAKT,WAAYS,IAC/BN,UAAUI,YAAYC,WAAWC,EAAGA,GAAG,EAAOA,IAAMR,cAItDE,UAAUI,YAAYC,WAAW,IAAKP,YAAc,EAAGA,cAAgBD,sBAvC9DQ,WAAWE,MAAOC,UAAMC,iEAAkBC,qEAC3CC,GAAKV,SAASW,cAAc,MAClCD,GAAGE,UAAY,YAEXJ,UACFE,GAAGG,UAAUC,IAAI,YAEfL,QACFC,GAAGG,UAAUC,IAAI,gBAGbC,EAAIf,SAASW,cAAc,YACjCI,EAAEH,UAAY,YACdG,EAAEC,KAAO,IACTD,EAAEE,YAAcX,MAEhBS,EAAEG,iBAAiB,SAAUC,IAC3BA,EAAEC,iBACGZ,UAAaC,SAChBf,OAAOC,SAAUC,WAAYW,KAAMT,cAC/BA,cACFA,aAAaS,UAKnBG,GAAGP,YAAYY,GACRL"}